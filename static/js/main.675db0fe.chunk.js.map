{"version":3,"sources":["icons sync /.svg$","icons/back.svg","icons/label.svg","icons/money.svg","icons/remarks.svg","icons/right.svg","icons/statistics.svg","icons/tag.svg","components/Icons.tsx","hook/useUpdate.tsx","hook/useRecords.tsx","components/Nav.tsx","components/Layout.tsx","views/money/CategorySection.tsx","components/Input.tsx","views/money/NoteSection.tsx","views/money/NumberPadSection.tsx","lib/createId.tsx","hook/useTags.tsx","views/money/TagsSection.tsx","views/Money.tsx","components/Button.tsx","views/Tags.tsx","views/Tag.tsx","views/Statistics.tsx","views/NoMatch.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","useUpdate","fn","dependency","count","useRef","useEffect","current","useRecords","useState","records","setRecords","JSON","parse","window","localStorage","getItem","setItem","stringify","addRecord","newRecord","amount","alert","record","createdAt","Date","toISOString","require","forEach","error","console","log","Icon","props","name","children","className","rest","classnames","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","section","CategorySection","categoryMap","categoryList","category","value","c","key","onClick","onChange","Label","label","Input","NoteSection","note","type","placeholder","target","NumberPadSection","toString","output","_setOutput","setOutput","newOutput","length","slice","parseFloat","text","textContent","indexOf","onOk","createId","useTags","tags","setTags","localTags","findTagIndex","result","i","findTag","filter","tag","updateTag","index","tagsClone","splice","deleteTag","addTag","tagName","prompt","getName","t","TagsSection","selectedTagIds","tagId","MyLayout","defaultFormData","tagIds","Money","selected","setSelected","obj","Button","button","TagList","ol","Topbar","header","Center","Tags","Space","span","InputWrapper","IconWrapper","Tag","idString","useParams","parseInt","history","useHistory","goBack","Item","Header","p","Statistics","setCategory","hash","r","dayjs","format","push","recordArray","entries","sort","a","b","date","reduce","array","concat","NoMatch","App","path","exact","from","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.675db0fe.chunk.js","sourcesContent":["var map = {\n\t\"./back.svg\": 39,\n\t\"./label.svg\": 40,\n\t\"./money.svg\": 41,\n\t\"./remarks.svg\": 42,\n\t\"./right.svg\": 43,\n\t\"./statistics.svg\": 44,\n\t\"./tag.svg\": 45\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 38;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"back\",\n  \"use\": \"back-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"back\\\"><defs><style></style></defs><path d=\\\"M632.153 521.761l129.83-128.749c7.814-7.765 8.016-20.718.08-28.587-7.701-7.641-20.843-7.831-28.83.087L603.423 493.26 473.614 364.51c-7.829-7.765-20.9-7.958-28.823-.086-7.722 7.64-7.893 20.67.08 28.587l129.822 128.75-129.822 128.75c-7.822 7.766-8.024 20.717-.08 28.59 7.7 7.64 20.836 7.83 28.823-.09l129.807-128.749 129.809 128.749c7.835 7.768 20.9 7.959 28.83.09 7.713-7.641 7.893-20.671-.08-28.59L632.152 521.76zM75.17 540.72c-15.937-15.863-15.715-41.808 0-57.442l281.868-280.605c7.95-7.913 23.636-14.323 34.668-14.323h446.906c67.428 0 122.086 54.073 122.086 121.75v403.798c0 67.243-54.386 121.753-122.086 121.753H391.706c-11.19 0-26.495-6.178-34.668-14.326L75.17 540.719z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"label\",\n  \"use\": \"label-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"label\\\"><defs><style></style></defs><path d=\\\"M459.69 893.653l-330.367-330.41c.042.085 354.389-354.56 354.389-354.56 7.85-7.851 28.757-15.702 39.637-14.934h4.864l243.2-11.818c24.832 2.773 47.275 25.77 48.896 50.773l3.584 54.272a42.667 42.667 0 0085.163-5.632l-3.584-54.272c-4.523-68.352-62.165-125.995-130.517-130.475l-4.864-.042-243.926 11.861c-34.944-1.28-78.208 15.36-102.826 39.936L68.864 502.827a85.675 85.675 0 00.085 120.746l330.624 330.624a84.907 84.907 0 00120.448-.213L874.54 599.509c24.618-24.618 42.41-65.194 41.685-99.754l4.01-39.851a42.667 42.667 0 00-84.906-8.533l-4.31 42.794-.127 7.083c.597 9.472-7.68 28.885-16.683 37.93L459.691 893.654zm264.96-618.88a131.157 131.157 0 00-17.45-21.93 42.667 42.667 0 10-60.33 60.373c1.834 1.835 3.498 4.01 6.911 9.088 6.4 9.515 8.406 12.373 13.227 17.621 10.027 10.88 22.187 18.603 37.29 22.742 56.491 15.36 166.145-1.536 222.507-57.856 48.982-48.982 77.483-112.214 78.848-173.654a42.667 42.667 0 00-85.333-1.877c-.853 38.827-20.053 81.323-53.845 115.2-31.147 31.061-106.667 43.264-137.686 36.352a228.693 228.693 0 01-4.138-6.059zM496.897 312.32a32.043 32.043 0 0145.227 0l165.973 165.973a32.043 32.043 0 01-45.227 45.227L496.853 357.547a31.915 31.915 0 010-45.227zm-211.2 211.2a32.043 32.043 0 0145.227 0l165.973 165.973a32.043 32.043 0 01-45.227 45.227L285.696 568.747a31.915 31.915 0 010-45.227zm105.557-105.6a31.701 31.701 0 0145.014-.213L557.44 538.88c12.373 12.373 12.33 32.427-.256 45.013a31.701 31.701 0 01-45.013.214L390.997 462.933a31.744 31.744 0 01.256-45.013z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M889.9 6.8H201.1c-55 .2-99.4 46.9-99.3 104.4v123.9H69.3c-19.1 0-34.5 16.2-34.5 36.1 0 20 15.5 36.1 34.5 36.1h32.4V468H69.3c-19.1 0-34.5 16.2-34.5 36.1 0 20 15.5 36.1 34.5 36.1h32.4v160.6H69.3c-19.1 0-34.5 16.2-34.5 36.1 0 20 15.5 36.1 34.5 36.1h32.4v139.7c-.1 57.5 44.4 104.2 99.3 104.4h688.8c55-.2 99.4-46.9 99.3-104.4V111.2c.2-57.5-44.3-104.3-99.2-104.4zm30.6 906c0 17.7-13.7 32.1-30.6 32.1H201.1c-16.9-.1-30.6-14.4-30.6-32.1V773.1h19.1c19.1 0 34.5-16.2 34.5-36.1s-15.5-36.1-34.5-36.1h-19.1V540.2h19.1c19.1 0 34.5-16.2 34.5-36.1 0-20-15.5-36.1-34.5-36.1h-19.1V307.4h19.1c19.1 0 34.5-16.2 34.5-36.1 0-20-15.5-36.1-34.5-36.1h-19.1v-124c0-17.7 13.6-32.1 30.6-32.1h688.8c16.9.1 30.6 14.4 30.6 32.1v801.6zM710.7 502.5c19 0 34.4-16.1 34.4-36.1s-15.4-36.1-34.4-36.1h-79.9l96.8-102c13.4-14.1 13.4-36.9 0-51-6.4-6.8-15.1-10.5-24.2-10.5s-17.8 3.8-24.2 10.5l-123.3 130-123.3-129.9c-6.4-6.8-15.1-10.6-24.2-10.6s-17.8 3.8-24.2 10.6c-13.4 14.1-13.4 36.9 0 51l96.8 102h-75.3c-19 0-34.4 16.1-34.4 36s15.4 36.1 34.4 36.1H524v63.7H405.6c-18.8.3-34 16.3-34 36s15.1 35.8 34 36h118.3v86.3c-.2 12.9 6.3 24.9 17 31.4s23.8 6.5 34.5 0 17.2-18.5 17-31.4v-86.4h118.3c18.8-.3 34-16.3 34-36.1s-15.1-35.8-34-36H592.4v-63.7h118.3z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"remarks\",\n  \"use\": \"remarks-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"remarks\\\"><defs><style></style></defs><path d=\\\"M.026 975.24h1023.948V1024H.026v-48.76zm28.256-53.83l.098.56 1.462-.267c.122 0 .244.073.366.073a15.02 15.02 0 005.851-1.195l266.52-47.98-.025-.17c9.289-1.73 18.187-6.217 25.38-13.409L914.07 272.885c19.04-19.065 19.04-49.93 0-68.97L724.445 14.29c-19.04-19.041-49.905-19.065-68.946 0L69.337 600.45c-7.118 7.143-11.58 15.92-13.36 25.111l-.243-.024-35.522 248.405-.463.073.244 1.39-3.633 25.452a14.714 14.714 0 00-1.194 5.876c0 7.63 5.753 13.701 13.116 14.676zm92.765-303.722L672.71 66.048c9.533-9.533 24.94-9.533 34.473 0L862.337 221.2c9.532 9.533 9.532 24.965 0 34.473L310.672 807.337c-9.532 9.533-24.94 9.533-34.473 0L121.047 652.161c-9.533-9.533-9.533-24.94 0-34.473zm-26.038 77.405l140.135 140.135L70.75 864.825l24.26-169.732z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M329.525 276.88l56.285-58.26 393.996 392.02-393.996 392.021-56.285-58.26 331.786-333.762z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"statistics\",\n  \"use\": \"statistics-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"statistics\\\"><defs><style></style></defs><path d=\\\"M33.652 947.414c-18.55 0-33.631-15.082-33.631-33.631V105.37c0-18.557 15.081-33.645 33.63-33.645 18.558 0 33.646 15.088 33.646 33.645v774.774h923.05c18.55 0 33.631 15.088 33.631 33.638 0 18.55-15.081 33.63-33.631 33.63H33.652zm108.947-181.699c-7.294 0-14.253-2.32-20.123-6.705-14.85-11.12-17.894-32.244-6.78-47.094l220.625-294.755c6.423-8.57 16.245-13.485 26.963-13.485a33.435 33.435 0 0118.759 5.728L580.447 543.01l349.606-278.503c6.019-4.796 13.254-7.332 20.928-7.332 10.315 0 19.907 4.617 26.33 12.68 5.6 7.019 8.121 15.805 7.122 24.74-1.007 8.92-5.436 16.924-12.462 22.533L603.07 611.002c-5.915 4.729-13.359 7.325-20.959 7.325a33.513 33.513 0 01-18.788-5.729L371.011 483.095 169.563 752.222c-6.415 8.578-16.246 13.493-26.964 13.493z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style></style></defs><path d=\\\"M384 977.152c-20.531 0-39.834-7.987-54.323-22.426L69.274 694.323c-14.49-14.49-22.426-33.74-22.426-54.323s7.987-39.834 22.426-54.323l439.603-439.603c24.934-24.935 70.246-43.725 105.523-43.725h230.4c42.342 0 76.8 34.457 76.8 76.8v230.4c0 35.225-18.79 80.589-43.674 105.523L438.323 954.675c-14.49 14.49-33.74 22.426-54.323 22.426zM614.4 153.6c-21.248 0-54.272 13.67-69.274 28.723L105.523 621.926c-4.813 4.813-7.424 11.213-7.424 18.125s2.663 13.312 7.424 18.074l260.403 260.403c4.813 4.813 11.213 7.424 18.125 7.424s13.312-2.662 18.125-7.424l439.603-439.603c15.002-15.002 28.723-48.077 28.723-69.325V179.2c0-14.131-11.468-25.6-25.6-25.6h-230.4z\\\" /><path d=\\\"M742.4 358.4c-42.342 0-76.8-34.458-76.8-76.8s34.458-76.8 76.8-76.8 76.8 34.458 76.8 76.8-34.458 76.8-76.8 76.8zm0-102.4c-14.131 0-25.6 11.469-25.6 25.6s11.469 25.6 25.6 25.6 25.6-11.469 25.6-25.6-11.469-25.6-25.6-25.6z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\n//node.js获取icons文件夹内所有文件\r\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext)\r\ntry {\r\n    importAll(require.context('icons', true, /\\.svg$/))\r\n} catch (error) {\r\n    console.log(error);\r\n}\r\n\r\ntype Props = {\r\n    name: String\r\n} & React.SVGAttributes<SVGElement>\r\n\r\nconst Icon = (props: Props) => {\r\n    const {name, children, className, ...rest} = props;\r\n    return (\r\n        <svg className={classnames('icon', className)} {...rest}>\r\n            <use xlinkHref={'#' + props.name} />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport default Icon;","import { useEffect, useRef } from \"react\"\r\n\r\n\r\n\r\nexport const useUpdate = (fn: () => void, dependency: any[]) => {\r\n    const count = useRef(0)\r\n    useEffect( () => {\r\n        count.current += 1\r\n    })\r\n    useEffect( () => {\r\n        if(count.current > 1) {\r\n            fn();\r\n        }\r\n    }, [fn, dependency]);\r\n}","import { useEffect, useState } from \"react\";\r\nimport { useUpdate } from \"./useUpdate\";\r\n\r\nexport type RecordItem = {\r\n    tagIds: number[]\r\n    note:　string\r\n    category: '+' | '-'\r\n    amount: number\r\n    createdAt: string\r\n}\r\ntype newRecordItem = Omit<RecordItem, 'createdAt'>\r\n\r\nexport const useRecords = () => {\r\n    const [records, setRecords] = useState<RecordItem[]>([])\r\n\r\n    useEffect( () => {\r\n        setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'))\r\n    }, []);\r\n\r\n    useUpdate(() => {\r\n        window.localStorage.setItem('records', JSON.stringify(records))\r\n    }, records);\r\n\r\n    const addRecord = (newRecord: newRecordItem) => {\r\n        if(newRecord.amount <= 0) {\r\n            alert('记账不能为零')\r\n            return false;\r\n        }\r\n        const record = {...newRecord, createdAt: (new Date()).toISOString()};\r\n        setRecords([...records, record]);\r\n        return true;\r\n    };\r\n\r\n    return {records, addRecord};\r\n};","import styled from 'styled-components'\r\nimport {NavLink} from 'react-router-dom';\r\nimport React from 'react';\r\nimport Icon from './Icons'\r\n\r\nconst NavWrapper = styled.nav`\r\nline-height: 24px;\r\nbox-shadow: 0 0 3px rgba(0, 0, 0, .25);\r\n> ul{\r\n  display: flex;\r\n  background: #CCCCFF;\r\n  > li {\r\n    width: 33.333333%;\r\n    text-align: center;\r\n    > a {\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      align-items: center;\r\n      padding: 10px 0;\r\n      .icon {\r\n      width: 24px;\r\n      height: 24px;\r\n      }\r\n      &.selected {\r\n        color: #FFFF99;\r\n      }\r\n    }\r\n  }\r\n}\r\n`;\r\n\r\nconst Nav = () => {\r\n    return (\r\n      <NavWrapper>\r\n        <ul>\r\n          <li>\r\n            <NavLink to=\"/tags\" activeClassName=\"selected\">\r\n              <Icon name=\"tag\" />标签\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink to=\"/money\" activeClassName=\"selected\">\r\n              <Icon name=\"money\" />记账\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink to=\"/statistics\" activeClassName=\"selected\">\r\n              <Icon name=\"statistics\" />统计\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </NavWrapper>\r\n    ); \r\n};\r\n\r\nexport default Nav;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Nav from './Nav'\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100vh;\r\n  display:flex;\r\n  flex-direction: column;\r\n  max-width: 500px;\r\n  margin: 0 auto;\r\n`;\r\nconst Main = styled.div`\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n`;\r\n\r\nconst Layout = (props: any) => {\r\n    return (\r\n        <Wrapper>\r\n            <Main className={props.className}>\r\n                {props.children}\r\n            </Main>\r\n            <Nav />\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nexport default Layout;","import styled from 'styled-components';\r\nimport React, { useState } from 'react';\r\n\r\nconst Wrapper = styled.section`\r\n  font-size: 24px;\r\n  background:#99CCFF;\r\n  > ul{\r\n    display:flex;\r\n    > li {\r\n      width: 50%;\r\n      color: #ffffff;\r\n      text-align:center;\r\n      padding: 16px 0;\r\n      position:relative;\r\n      &.selected::after{\r\n        content: '';\r\n        display:block; \r\n        height: 4px;\r\n        background:#336699;\r\n        border-radius: 12px;\r\n        position:absolute;\r\n        bottom:0;\r\n        width: 80%;\r\n        left: 10%;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  value: '+' | '-';\r\n  onChange: (value: '-' | '+') => void;\r\n}\r\n\r\nconst CategorySection: React.FC<Props> = (props) => {\r\n  const categoryMap = {'+': '收入', '-': '支出'};\r\n  const [categoryList] = useState<('-' | '+')[]>(['-', '+'])\r\n  const category = props.value;\r\n  return (\r\n    <Wrapper>\r\n    <ul>\r\n      {categoryList.map(c => \r\n        <li key={c}\r\n            className={category === c ? 'selected' : ''}\r\n            onClick={() => {props.onChange(c);}}>\r\n              {categoryMap[c]}\r\n            </li>\r\n      )}\r\n    </ul>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport {CategorySection};","import styled from 'styled-components'\r\nimport React from 'react';\r\n\r\nconst Label = styled.label`\r\n    display:flex;\r\n    align-items: center;\r\n    > span { \r\n        margin-right: 16px;\r\n        white-space: nowrap;\r\n    }\r\n    > input {\r\n      display:block;\r\n      width: 100%;\r\n      height: 44px;\r\n      background: none;\r\n      border: none;\r\n    }\r\n`;\r\n\r\ntype Props = {\r\n    label: string;\r\n} & React.InputHTMLAttributes<HTMLInputElement>\r\n\r\nconst Input: React.FC<Props> = (props) => {\r\n    const {label, children, ...rest} = props;\r\n    return (\r\n      <Label>\r\n        <span>{props.label}</span>\r\n        <input {...rest} />\r\n      </Label>\r\n    ); \r\n};\r\n\r\nexport default Input;","import styled from 'styled-components';\r\nimport React, { ChangeEventHandler } from 'react'\r\nimport Input from 'components/Input';\r\n\r\nconst Wrapper = styled.section`\r\n  background: #f5f5f5;\r\n  padding: 4px 16px;\r\n  font-size: 14px;\r\n`;\r\n\r\ntype Props = {\r\n  value: string;\r\n  onChange: (value: string) => void;\r\n}\r\n\r\nconst NoteSection: React.FC<Props> = (props) =>{\r\n  const note = props.value;\r\n  const onChange: ChangeEventHandler<HTMLInputElement> = (e) => {\r\n      props.onChange(e.target.value)\r\n  }\r\n  return (\r\n    <Wrapper>\r\n      <Input label=\"备注\" \r\n            type=\"text\"\r\n            placeholder=\"请输出备注\"\r\n            value={note}\r\n            onChange={onChange}>\r\n      </Input>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport {NoteSection}","import styled from 'styled-components';\r\nimport React, { useState } from 'react';\r\n\r\nconst Wrapper = styled.section`\r\n  display:flex;\r\n  flex-direction: column;\r\n  > .output{\r\n    background:white;\r\n    font-size: 36px;\r\n    line-height: 72px;\r\n    text-align:right;\r\n    padding: 0 16px;\r\n    box-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.25),\r\n                inset 0 5px 5px -5px rgba(0,0,0,0.25);\r\n  }\r\n  > .pad{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n    > button{\r\n      font-size: 18px; \r\n      float: left; \r\n      width: 20%; \r\n      height: 56px; \r\n      border: none;\r\n      margin: 6px;\r\n      &.ok{ \r\n        width: 46%;\r\n      }\r\n      &.zero{ \r\n        width: 26%; \r\n      }\r\n      &.delete {\r\n        width: 26%;\r\n      }\r\n      &.empty {\r\n        width: 46%;\r\n      }\r\n      &.dot {\r\n        width: 26%;\r\n        font-size: 30px;\r\n        font-weight: bold;\r\n      }\r\n      &{\r\n        background: #eee;\r\n        box-shadow: -2px -2px 5px white, 3px 3px 5px rgba(0, 0, 0, 0.1);\r\n        border-radius: 10px;\r\n      }\r\n    }\r\n    @media(max-height:570px) {\r\n      > button {\r\n        height: 40px;\r\n        &.ok {\r\n          height: 80px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n    value: number;\r\n    onChange: (value: number) => void;\r\n    onOk: () => void;\r\n}\r\n\r\nconst NumberPadSection: React.FC<Props> = (props) => {\r\n    const [output, _setOutput] = useState(props.value.toString());\r\n    const setOutput = (output: string) => {\r\n        let newOutput: string;\r\n        if(output.length > 16) {\r\n          newOutput = output.slice(0, 16);\r\n        } else if(output.length === 0) {\r\n          newOutput = '0';\r\n        } else {\r\n          newOutput = output\r\n        }\r\n        _setOutput(newOutput)\r\n        props.onChange(parseFloat(newOutput))\r\n    }\r\n    const onClickButtonWrapper = (e: React.MouseEvent) => {\r\n        const text = (e.target as HTMLButtonElement).textContent;\r\n        if(text === null) {return}\r\n        switch(text) {\r\n            case '0':\r\n            case '1':\r\n            case '2':\r\n            case '3':\r\n            case '4':\r\n            case '5':\r\n            case '6':\r\n            case '7':\r\n            case '8':\r\n            case '9':\r\n              if(output === '0') {\r\n                  setOutput(text);\r\n              } else {\r\n                  setOutput(output + text);\r\n              }\r\n              break;\r\n            case '.':\r\n              if(output.indexOf('.') >= 0) {return;}\r\n              setOutput(output + '.');\r\n              break;\r\n            case '删除':\r\n              if(output.length === 1) {\r\n                  setOutput('')\r\n              } else {\r\n                  setOutput(output.slice(0, -1))\r\n              }\r\n              break;\r\n            case '清空':\r\n              setOutput('');\r\n              break;\r\n            case '确定':\r\n              if(props.onOk) {\r\n                props.onOk()\r\n                return;\r\n              }\r\n              break;\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n      <Wrapper>\r\n        <div className=\"output\">\r\n          {output}\r\n        </div>\r\n        <div className=\"pad clearfix\"\r\n            onClick={onClickButtonWrapper}>\r\n          <button>1</button>\r\n          <button>2</button>\r\n          <button>3</button>\r\n          <button className=\"delete\">删除</button>\r\n          <button>4</button>\r\n          <button>5</button>\r\n          <button>6</button>\r\n          <button className=\"dot\">.</button>\r\n          <button>7</button>\r\n          <button>8</button>\r\n          <button>9</button>\r\n          <button className=\"zero\">0</button>\r\n          <button className=\"empty\">清空</button>\r\n          <button className=\"ok\">确定</button>\r\n        </div>\r\n      </Wrapper>\r\n    )\r\n}\r\n\r\nexport {NumberPadSection};","let id:number = JSON.parse(window.localStorage.getItem('idMax') || '0');\r\nconst createId = ():number => {\r\n    id += 1;\r\n    window.localStorage.setItem('idMax', JSON.stringify(id));\r\n    return id\r\n}\r\n\r\nexport {createId};","import { useUpdate } from 'hook/useUpdate';\r\nimport { useEffect, useState } from 'react';\r\nimport { createId } from 'lib/createId';\r\n\r\n//封装自定义Hook\r\nconst useTags = () => {\r\n    const [tags, setTags] = useState<{id: number, name: string}[]>([]);\r\n    useEffect( () => {\r\n        let localTags = JSON.parse(window.localStorage.getItem('tags') || '[]');\r\n        if(localTags.length === 0) {\r\n            localTags = [\r\n                {id: createId(), name: '服饰'},\r\n                {id: createId(), name: '餐饮'},\r\n                {id: createId(), name: '住房'},\r\n                {id: createId(), name: '交通'}\r\n            ]\r\n        }\r\n        setTags(localTags);\r\n    }, []);\r\n    useUpdate( () => {\r\n        window.localStorage.setItem('tags', JSON.stringify(tags))\r\n    }, tags);\r\n    const findTag = (id: number) => tags.filter(tag => tag.id === id)[0];\r\n    const findTagIndex = (id: number) => {\r\n        let result = -1;\r\n        for(let i=0; i<tags.length; i++) {\r\n            if(tags[i].id === id) {\r\n                result = i;\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    const updateTag = (id: number, {name}: {name: string}) => {\r\n        //获取要修改的tag索引\r\n        const index = findTagIndex(id);\r\n        //深拷贝tags得到tagsClone\r\n        const tagsClone = JSON.parse(JSON.stringify(tags));\r\n        tagsClone.splice(index, 1, {id, name: name});\r\n        setTags(tagsClone);\r\n    };\r\n    const deleteTag = (id: number) => {\r\n        setTags(tags.filter(tag => tag.id !== id));\r\n    };\r\n    const addTag = () => {\r\n        const tagName = window.prompt('新增标签的名称为:');\r\n        if(tagName !== null && tagName !== '') {\r\n          setTags([...tags, {id: createId(), name: tagName}])\r\n        }\r\n    };\r\n    const getName = (id: number) => {\r\n        const tag = tags.filter(t => t.id === id)[0];\r\n        return tag ? tag.name : '';\r\n    }\r\n    return {tags, setTags, findTag, updateTag, findTagIndex, deleteTag, addTag, getName};\r\n}\r\n\r\nexport {useTags};","import styled from 'styled-components';\r\nimport React from 'react';\r\nimport {useTags} from 'hook/useTags';\r\n\r\nconst Wrapper = styled.section`\r\n  background: #FFFFFF; \r\n  padding: 12px 16px;\r\n  display:flex; \r\n  flex-grow: 1;\r\n  flex-shrink: 1;\r\n  overflow: auto;\r\n  flex-direction: column;\r\n  justify-content: space-between; \r\n  align-items: flex-start;\r\n  > ol { \r\n    margin: 0 -12px;\r\n    > li{\r\n      background: #FFFFFF; \r\n      border-radius: 16px;\r\n      display:inline-block; \r\n      padding: 8px 20px; \r\n      font-size: 14px; \r\n      margin: 8px 10px;\r\n      box-shadow: 2px 2px 2px 1px rgba(0, 0, 255, .2);\r\n      &.selected {\r\n        background: #66CCCC;\r\n      }\r\n    }\r\n  }\r\n  > button{\r\n    background:none; \r\n    border: none; \r\n    padding: 2px 4px;\r\n    border-bottom: 1px solid #333; \r\n    color: #666;\r\n    margin-top: 8px;\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  value: number[];\r\n  onChange: (selected: number[]) => void;\r\n}\r\n\r\nconst TagsSection: React.FC<Props> = (props) => {\r\n  const {tags, addTag} = useTags();\r\n  const selectedTagIds = props.value\r\n  const onToggleTag = (tagId: number) => {\r\n    const index = selectedTagIds.indexOf(tagId);\r\n    if(index >= 0) {\r\n      props.onChange(selectedTagIds.filter(t => t !== tagId));\r\n    } else {\r\n      props.onChange([...selectedTagIds, tagId])\r\n    }\r\n  };\r\n  const getClass = (tagId: number) => selectedTagIds.indexOf(tagId) >=0 ? 'selected' : '';\r\n\r\n  return (\r\n    <Wrapper>\r\n        <ol>\r\n          {tags.map(tag => \r\n            <li key={tag.id}\r\n                onClick={\r\n                  () => {onToggleTag(tag.id);}\r\n                } \r\n                  className={getClass(tag.id)\r\n                }>{tag.name}\r\n            </li>\r\n          )}\r\n        </ol>\r\n        <button onClick={addTag}>新增标签</button>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport {TagsSection};","import { useRecords } from 'hook/useRecords';\r\nimport React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport Layout from '../components/Layout';\r\nimport {CategorySection} from './money/CategorySection';\r\nimport {NoteSection} from './money/NoteSection';\r\nimport {NumberPadSection} from './money/NumberPadSection';\r\nimport {TagsSection} from './money/TagsSection';\r\n\r\nconst MyLayout = styled(Layout)`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\ntype Category = '-' | '+'\r\n\r\nconst defaultFormData = {\r\n  tagIds: [] as number[],\r\n  note: '',\r\n  category: '-' as Category,\r\n  amount: 0\r\n}\r\n\r\n\r\nfunction Money() {\r\n  const [selected, setSelected] = useState(defaultFormData);\r\n  const {addRecord} = useRecords();\r\n\r\n  const onChange = (obj: Partial<typeof selected>) => {\r\n    setSelected({\r\n      ...selected,\r\n      ...obj\r\n    })\r\n  }\r\n  const submit = () => {\r\n    if(addRecord(selected)) {\r\n      alert('已保存')\r\n      setSelected(defaultFormData);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <MyLayout>\r\n      <CategorySection value={selected.category}\r\n                  onChange={(category) => onChange({category})} />\r\n      <TagsSection value={selected.tagIds}\r\n                  onChange={(tagIds) => onChange({tagIds})} />\r\n      <NoteSection value={selected.note}\r\n                  onChange={(note) => onChange({note})} />\r\n      <NumberPadSection value={selected.amount}\r\n                  onChange={(amount) => onChange({amount})}\r\n                  onOk={submit} />\r\n    </MyLayout>\r\n  )\r\n}\r\n\r\nexport default Money;","import styled from 'styled-components';\r\n\r\n\r\nconst Button = styled.button`\r\nfont-size: 18px;\r\nborder: none;\r\npadding: 8px 12px;\r\nbackground: #66CCCC;\r\nborder-radius: 4px;\r\ncolor: white;\r\n`\r\n\r\nexport default Button;","import React from 'react';\r\nimport Layout from '../components/Layout';\r\nimport styled from 'styled-components';\r\nimport Icon from '../components/Icons';\r\nimport { Link } from 'react-router-dom';\r\nimport { useTags } from 'hook/useTags';\r\nimport Button from 'components/Button';\r\n\r\n\r\nconst TagList = styled.ol`\r\n  font-size: 16px;\r\n  background: white;\r\n  > li {\r\n    border-bottom: 1px solid #d5d5d9;\r\n    line-height: 20px;\r\n    margin-left: 16px;\r\n    > a {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items:center;\r\n      padding: 12px 16px;\r\n    }\r\n  }\r\n`\r\n\r\nconst Topbar = styled.header`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-size: 20px;\r\n    line-height: 28px;\r\n    padding: 16px;\r\n    background: #99CCFF;\r\n    color: #ffffff;\r\n`\r\n\r\nconst Center = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 40px;\r\n`\r\n\r\nfunction Tags() {\r\n  const {tags, addTag} = useTags();\r\n  \r\n  return (\r\n    <Layout>\r\n      <Topbar>编辑标签</Topbar>\r\n      <TagList>\r\n        {tags.map(tag =>\r\n          <li key ={tag.id}>\r\n            <Link to={'/tags/' + tag.id}>\r\n              <span>{tag.name}</span> \r\n              <Icon name=\"right\" />\r\n            </Link>\r\n          </li>\r\n        )}\r\n      </TagList>\r\n      <Center>\r\n        <Button onClick={addTag}>新增标签</Button>\r\n      </Center>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default Tags;","import Button from 'components/Button';\r\nimport Icon from 'components/Icons';\r\nimport Input from 'components/Input';\r\nimport Layout from 'components/Layout';\r\nimport React from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { useTags } from 'hook/useTags';\r\n\r\nconst Topbar = styled.header`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    font-size: 20px;\r\n    line-height: 28px;\r\n    padding: 16px;\r\n    background: #99CCFF;\r\n    color: #ffffff;\r\n`\r\nconst Space = styled.span`\r\n    width: 1em;\r\n    height: 1em;\r\n`\r\nconst InputWrapper = styled.div`\r\n    background: white;\r\n    padding: 0 16px;\r\n    margin-top: 16px;\r\n`\r\nconst IconWrapper = styled.div`\r\n    transform: rotate(180deg);\r\n`\r\n\r\nconst Center = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 40px;\r\n`\r\n\r\ntype Params = {\r\n    id: string\r\n}\r\n\r\nconst Tag: React.FC = () => {\r\n    const {findTag, updateTag, deleteTag} = useTags();\r\n    let {id: idString} = useParams<Params>();\r\n    const tag = findTag(parseInt(idString));\r\n    const history = useHistory();\r\n    const onClickBack = () => {\r\n        history.goBack();\r\n    }\r\n\r\n    return (\r\n        <Layout>\r\n            <Topbar>\r\n                <IconWrapper>\r\n                    <Icon name=\"right\" onClick={onClickBack} />\r\n                </IconWrapper>\r\n                <span>编辑标签</span>\r\n                <Space></Space>\r\n            </Topbar>\r\n            {tag ? <div>\r\n                <InputWrapper>\r\n                    <Input label=\"标签名\" \r\n                        type=\"text\" \r\n                        placeholder=\"标签名\"\r\n                        value={tag.name}\r\n                        onChange={(e) => {\r\n                            updateTag(tag.id, {name:e.target.value})\r\n                        }} />\r\n                </InputWrapper>\r\n                <Center>\r\n                    <Button onClick={() => {\r\n                        deleteTag(tag.id)\r\n                    }}>删除标签</Button>\r\n                </Center>\r\n            </div> : <Center>标签不存在</Center>}\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport {Tag};","import { RecordItem, useRecords } from 'hook/useRecords';\r\nimport { useTags } from 'hook/useTags';\r\nimport React, { ReactNode, useState } from 'react'\r\nimport Layout from '../components/Layout'\r\nimport { CategorySection } from './money/CategorySection'\r\nimport dayjs from 'dayjs';\r\nimport styled from 'styled-components';\r\n\r\n\r\nconst Item = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background: white;\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n  border-bottom: 1px solid #ccccff;\r\n  > .note {\r\n    margin-right: auto;\r\n    margin-left: 16px;\r\n    color: #999;\r\n  }\r\n`\r\nconst Header = styled.p`\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n  box-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.25), inset 0 5px 5px -5px rgba(0,0,0,0.25);\r\n`\r\n\r\nfunction Statistics() {\r\n  const [category, setCategory] = useState<'-' | '+'>('-');\r\n  const {records} = useRecords();\r\n  const {getName} = useTags();\r\n  const hash: {[K: string]: RecordItem[]} = {}\r\n  const selectedRecords = records.filter(r => r.category === category);\r\n\r\n  selectedRecords.forEach(r => {\r\n    const key = dayjs(r.createdAt).format('YYYY年MM月DD日')\r\n    if(!(key in hash)) {\r\n      hash[key] = [];\r\n    }\r\n    hash[key].push(r)\r\n  })\r\n  const recordArray = Object.entries(hash).sort((a, b) => {\r\n    if(a[0] === b[0]) return 0;\r\n    if(a[0] > b[0]) return -1;\r\n    if(a[0] < b[0]) return 1;\r\n    return 0;\r\n  })\r\n\r\n  \r\n    return (\r\n      <Layout>\r\n        <CategorySection \r\n          value={category}\r\n          onChange={value => setCategory(value)}>\r\n        </CategorySection>\r\n\r\n        {recordArray.map(([date, records]) => <div>\r\n          <Header>\r\n            {date}\r\n          </Header>\r\n          <div>\r\n            {records.map(r => {\r\n              return <Item>\r\n                <div className=\"tags oneLine\">\r\n                  {r.tagIds\r\n                    .map(tagId => <span key={tagId}>{getName(tagId)}</span>)\r\n                    .reduce((result, span, index, array) => \r\n                      result.concat(index < array.length - 1 ? [span, '，'] : [span]), []as ReactNode[])}\r\n                </div>\r\n                {r.note && <div className=\"note\">\r\n                  {r.note}\r\n                </div>}\r\n                <div className=\"amount\">\r\n                  ￥{r.amount}\r\n                </div>\r\n              </Item>\r\n            })}\r\n          </div>\r\n        </div>)}\r\n      </Layout>\r\n    )\r\n  }\r\n\r\n  export default Statistics;","import React from 'react'\r\n\r\nfunction NoMatch() {\r\n    return <p>当前页面不存在，请检查网址是否正确</p>;\r\n}\r\n\r\nexport default NoMatch;","import React from 'react';\nimport Money from './views/Money';\nimport Tags from './views/Tags';\nimport {Tag} from './views/Tag';\nimport Statistics from './views/Statistics';\nimport NoMatch from './views/NoMatch';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from \"react-router-dom\";\n\n\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/tags\" exact> {/* 取消模糊匹配 */}\n          <Tags />\n        </Route>\n        <Route path=\"/tags/:id\" exact>\n          <Tag />\n        </Route>\n        <Route path=\"/statistics\" exact>\n          <Statistics />\n        </Route>\n        <Route path=\"/money\" exact>\n          <Money />\n        </Route>\n        <Redirect exact from=\"/\" to=\"/money\" />\n        <Route path=\"*\">\n          <NoMatch />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'index.scss';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}